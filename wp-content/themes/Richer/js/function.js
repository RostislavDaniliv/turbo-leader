var TempApp={lgWidth:1200,mdWidth:992,smWidth:768,resized:false,iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},touchDevice:function(){return navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|Opera Mini|IEMobile/i);}};function isLgWidth(){return $(window).width()>=TempApp.lgWidth;}function isMdWidth(){return $(window).width()>=TempApp.mdWidth&&$(window).width()<TempApp.lgWidth;}function isSmWidth(){return $(window).width()>=TempApp.smWidth&&$(window).width()<TempApp.mdWidth;}function isXsWidth(){return $(window).width()<TempApp.smWidth;}function isIOS(){return TempApp.iOS();}function isTouch(){return TempApp.touchDevice();}$(document).ready(function(){if(isIOS()){$(function(){$(document).on('touchend','a',$.noop)});}if('flex'in document.documentElement.style){if(navigator.userAgent.search(/UCBrowser/)>-1){document.documentElement.setAttribute('data-browser','not-flex');}else{document.documentElement.setAttribute('data-browser','flexible');}}else{document.documentElement.setAttribute('data-browser','not-flex');}function setHeiHeight(){$('.js-full__height').css({minHeight:$(window).height()-$('.header').innerHeight()});}setHeiHeight();$(window).resize(setHeiHeight);$('[href*="#"]').click(function(event){event.preventDefault();});$('[data-scroll-to]').click(function(){var scroll_el=$(this).attr('data-scroll-to');if($(scroll_el).length!=0){$('html, body').animate({scrollTop:$(scroll_el).offset().top},500);}return false;});$('.exampleSlider').slick({slidesToShow:1,slidesToScroll:1,arrows:true,dots:false,asNavFor:'.exampleThumbs'});$('.exampleThumbs').slick({slidesToShow:7,slidesToScroll:1,asNavFor:'.exampleSlider',arrows:false,dots:false,centerMode:true,focusOnSelect:true,responsive:[{breakpoint:768,settings:{slidesToShow:3,}}]});$('.reviewSlider').slick({slidesToShow:1,slidesToScroll:1,arrows:true,dots:true,adaptiveHeight:true,draggable:true});$('.chart__wrap').viewportChecker({offset:$('.chart__wrap').height()*0.8,callbackFunction:function(elem,action){chartAnim();},});$('.faqs__toggle, .faqs__toggler').on('click',function(){var item=$(this).closest('.faqs__item');if(item.hasClass('open')){item.removeClass('open');}else{$('.faqs__item').removeClass('open');item.addClass('open');}});chartAnim();gridMatch();calaculate();$('.tooltip').tooltipster({contentAsHTML:true,trigger:'custom',maxWidth:300,interactive:true,triggerOpen:{click:true,touchstart:true},triggerClose:{scroll:true,mouseleave:true,tap:true}});$('.bounceDown').addClass('hidden').viewportChecker({offset:150,callbackFunction:function(elem,action){elem.addClass('visible animated fadeInDown');}})
$('.bounceUp').addClass('hidden').viewportChecker({offset:150,callbackFunction:function(elem,action){elem.addClass('visible animated fadeInUp');}})
$('.bounceLeft').addClass('hidden').viewportChecker({offset:150,callbackFunction:function(elem,action){elem.addClass('visible animated bounceInRight');}})
$('[name=tel]').inputmask("+",{showMaskOnHover:false});});$(window).resize(function(event){var windowWidth=$(window).width();if(TempApp.resized==windowWidth){return;}TempApp.resized=windowWidth;checkOnResize()});function checkOnResize(){gridMatch();chartAnim();}function gridMatch(){$('[data-grid-match] .grid__item').matchHeight({byRow:true,});}function chartAnim(){$('.chart__wrap').viewportChecker({offset:$('.chart__wrap').height()*0.8,callbackFunction:function(elem,action){$('.chart__column').each(function(index,el){var chartHeight=$('.chart__wrap').height()-$('.chart__rowX').height()-52;var colHeight=$(this).data('colHeight')/20*(chartHeight/100);$(this).height(colHeight);});setTimeout(function(){$('.chart__tooltip').addClass('show');},500);setTimeout(function(){$('.chart__tooltipImg').addClass('show');},600);},});}function calaculate(){var capitalisationIpoDollar=1000000000;var capitalisationIpoEuro=capitalisationIpoDollar*exchangeDollar/exchangeEuro;var capitalisationIpoRub=capitalisationIpoDollar*exchangeDollar;var capitalisation110Dollar=110000000;var capitalisation110Euro=capitalisation110Dollar*exchangeDollar/exchangeEuro;var capitalisation110Rub=capitalisation110Dollar*exchangeDollar;var capitalisation200Dollar=200000000;var capitalisation200Euro=capitalisation200Dollar*exchangeDollar/exchangeEuro;var capitalisation200Rub=capitalisation200Dollar*exchangeDollar;var capitalisation300Dollar=300000000;var capitalisation300Euro=capitalisation300Dollar*exchangeDollar/exchangeEuro;var capitalisation300Rub=capitalisation300Dollar*exchangeDollar;var currency=$('.calculate__currencyItem.active').data('currency');var currencyTemplate='<span class="txt__danger"> '+currency+'</span>';var percentTemplate='<span class="txt__danger">%</span>';var currencyValue;var sliderPrice=$(".calculate__slider");var inputCurrent=$('.calculate__current');var entryThreshold=$('#entry_threshold td');var investedAmount=$('#invested_amount td');var sliderValue;var currentFieldValue;var sliderMin;var sliderOtherMin=600000;var sliderMax;var sliderStep;$('.calculate__currencyItem').on('click',function(event){event.preventDefault();$('.calculate__currencyItem').removeClass('active');$(this).addClass('active');currency=$(this).data('currency');currencyTemplate='<span class="txt__danger"> '+currency+'</span>';if(currency=="P"){sliderOtherMin=600000;sliderInit(2500000,60000,10000000,100);inputCurrent.val(thousandSeparator(sliderValue));}if(currency=="$"){sliderOtherMin=10000;sliderInit(13000,1000,200000,100);inputCurrent.val(thousandSeparator(sliderValue))}if(currency=="€"){sliderOtherMin=10000;sliderInit(13000,1000,200000,100);inputCurrent.val(thousandSeparator(sliderValue))}setInvestedAmount(thousandSeparator(sliderValue));setCurrencyInput();});inputCurrent.on('keyup',function(){var keyupVal=$(this).val().replace(/\s+/g,'');var keyupValClean=keyupVal.replace(/[.,\/#!₽$%\^&\*;:{}=\-_`~()]/g,"");currentFieldValue=keyupValClean;if(keyupValClean>=sliderMin&&keyupValClean<=sliderMax){sliderPrice.slider('value',keyupValClean);inputCurrent.val(thousandSeparator(sliderPrice.slider('value')));currencyValue=thousandSeparator(sliderPrice.slider('value'));}if(keyupValClean<sliderMin){sliderPrice.slider('value',sliderMin);currencyValue=thousandSeparator(keyupValClean);}if(keyupValClean>sliderMax){sliderPrice.slider('value',sliderMax);currencyValue=thousandSeparator(keyupValClean);}setInvestedAmount(currencyValue);setCurrencyInput();});function sliderInit(valCurrent,minCurrent,maxCurrent,stepCurrent){sliderValue=valCurrent;sliderMin=minCurrent;sliderMax=maxCurrent;sliderStep=stepCurrent;sliderPrice.slider({range:"min",value:valCurrent,min:minCurrent,max:maxCurrent,step:stepCurrent,slide:function(event,ui){if(ui.value>=minCurrent||ui.value<=maxCurrent){inputCurrent.val(thousandSeparator(ui.value));currencyValue=thousandSeparator(ui.value);setInvestedAmount(currencyValue);setCurrencyInput();currentFieldValue=ui.value;}}});inputCurrent.val(thousandSeparator(valCurrent));currencyValue=thousandSeparator(valCurrent);currentFieldValue=Number(currencyValue.replace(/\s+/g,''));setInvestedAmount(currencyValue);setCurrencyInput();return sliderMin;return currentFieldValue;}sliderInit(2500000,60000,10000000,1000);inputCurrent.priceFormat();inputCurrent.val(thousandSeparator(sliderValue))
function setCurrencyInput(){if(currency=="P"){sliderOtherMin=600000;inputCurrent.removeClass('dollar euro');inputCurrent.addClass('ru');setEntryThreshold('600 000','600 000','60 000');$('.calculate__scale_notRu').removeClass('active');$('.calculate__scale_ru').addClass('active');currencyValueClean=Number(currencyValue.replace(/\s+/g,''));var firstPercent=(currencyValueClean/capitalisation110Rub*100).toFixed(4);var secondPercent=(currencyValueClean/capitalisation200Rub*100).toFixed(4);setShareInCompany(firstPercent,secondPercent);setMonthlyIncome(0.05,0.17,currencyValueClean);setCostForecast(firstPercent*capitalisationIpoRub,secondPercent*capitalisationIpoRub,currencyValueClean+(profitMonthlySecond*36));}if(currency=="$"){sliderOtherMin=10000;inputCurrent.removeClass('ru euro');inputCurrent.addClass('dollar');setEntryThreshold('10 000','10 000','1 000');$('.calculate__scale_notRu').addClass('active');$('.calculate__scale_ru').removeClass('active');currencyValueClean=Number(currencyValue.replace(/\s+/g,''));var firstPercent=(currencyValueClean/capitalisation110Dollar*100).toFixed(4);var secondPercent=(currencyValueClean/capitalisation200Dollar*100).toFixed(4);setShareInCompany(firstPercent,secondPercent);setCostForecast(firstPercent*capitalisationIpoDollar,secondPercent*capitalisationIpoDollar,currencyValueClean+(profitMonthlySecond*36))
setMonthlyIncome(0.05,0.07,currencyValueClean);}if(currency=="€"){sliderOtherMin=10000;inputCurrent.removeClass('dollar ru');inputCurrent.addClass('euro');setEntryThreshold('10 000','10 000','1 000');$('.calculate__scale_notRu').addClass('active');$('.calculate__scale_ru').removeClass('active');currencyValueClean=Number(currencyValue.replace(/\s+/g,''));var firstPercent=(currencyValueClean/capitalisation110Euro*100).toFixed(4);var secondPercent=(currencyValueClean/capitalisation200Euro*100).toFixed(4);setShareInCompany(firstPercent,secondPercent);setCostForecast(firstPercent*capitalisationIpoEuro,secondPercent*capitalisationIpoEuro,currencyValueClean+(profitMonthlySecond*36))
setMonthlyIncome(0.05,0.07,currencyValueClean);}setInvestedAmount(currencyValue);}function setEntryThreshold(first,second,last){entryThreshold.each(function(){if($(this).data('edition')=='1'){$(this).html(first+currencyTemplate);}if($(this).data('edition')=='2'){$(this).html(second+currencyTemplate);}if($(this).data('edition')=='3'){$(this).html(last+currencyTemplate);}});}function setInvestedAmount(summ){investedAmount.each(function(){if($(this).data('edition')){$(this).html(summ+currencyTemplate);}});}function setShareInCompany(first,second){$('#share_in_company [data-edition]').each(function(){if($(this).data('edition')=='1'){if(currentFieldValue>=sliderOtherMin){$(this).html(first+percentTemplate);}else{$(this).html('-')}}if($(this).data('edition')=='2'){if(currentFieldValue>=sliderOtherMin){$(this).html(second+percentTemplate);}else{$(this).html('-')}}});}function setCostForecast(first,second,last){$('#cost_forecast [data-edition]').each(function(){if($(this).data('edition')=='1'){if(currentFieldValue>=sliderOtherMin){$(this).html(thousandSeparator((first/100).toFixed())+currencyTemplate);}else{$(this).html('-')}}if($(this).data('edition')=='2'){if(currentFieldValue>=sliderOtherMin){$(this).html(thousandSeparator((second/100).toFixed())+currencyTemplate);}else{$(this).html('-')}}if($(this).data('edition')=='3'){if(currentFieldValue>=sliderMin){$(this).html(thousandSeparator(last)+currencyTemplate);}else{$(this).html('-')}}});}function setMonthlyIncome(percentFirst,percentSecond,current){$('#monthly_income [data-edition]').each(function(){if($(this).data('edition')=='1'){if(currentFieldValue>=sliderOtherMin){$(this).html(thousandSeparator((current*percentFirst/12).toFixed())+currencyTemplate);profitMonthlyFirst=Number(current*percentFirst/12).toFixed();}else{$(this).html('-')}return profitMonthlyFirst;}if($(this).data('edition')=='2'){if(currentFieldValue>=sliderMin){$(this).html(thousandSeparator((current*percentSecond/12).toFixed())+currencyTemplate);profitMonthlySecond=Number(current*percentSecond/12).toFixed();}else{$(this).html('-')}return profitMonthlySecond;}});}}function thousandSeparator(str){var parts=(str+'').split('.'),main=parts[0],len=main.length,output='',i=len-1;while(i>=0){output=main.charAt(i)+output;if((len-i)%3===0&&i>0){output=' '+output;}--i;}if(parts.length>1){output+='.'+parts[1];}return output;};document.addEventListener('click',function(e){var map=document.querySelector('#map-wrap iframe')
if(e.target.id==='map-wrap'){map.style.pointerEvents='all'}else{map.style.pointerEvents='none'}});(function($){$.fn.getCursorPosition=function(){var input=this.get(0);if(!input)return;if('selectionStart'in input){return input.selectionStart;}else if(document.selection){input.focus();var sel=document.selection.createRange();var selLen=document.selection.createRange().text.length;sel.moveStart('character',-input.value.length);return sel.text.length-selLen;}}
$.fn.setCursorPosition=function(pos){if($(this).get(0).setSelectionRange){$(this).get(0).setSelectionRange(pos,pos);}else if($(this).get(0).createTextRange){var range=$(this).get(0).createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select();}}
$.fn.delSelected=function(){var input=$(this);var value=input.val();var start=input[0].selectionStart;var end=input[0].selectionEnd;input.val(value.substr(0,start)+value.substring(end,value.length));return end-start;};$.fn.priceFormat=function(){function priceFormatted(element){element=String(element).replace(/[^\d]/g,'');if(!element)return'';return(String(parseInt(element))).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,'$1 ');}$(this).bind('contextmenu',function(event){event.preventDefault();}).bind('drop',function(event){var value=$(this).val();$(this).val('');$(this).val(value);event.preventDefault();}).keydown(function(event){var cursor=$(this).getCursorPosition();var code=event.keyCode;var startValue=$(this).val();if((event.ctrlKey===true&&code==86)||(event.metaKey===true&&code==86)||(event.shiftKey===true&&code==45)){return false;}else if(code==9||code==27||event.ctrlKey===true||event.metaKey===true||event.altKey===true||event.shiftKey===true||(code>=112&&code<=123)||(code>=35&&code<=39)){return;}else if(code==8){var delCount=$(this).delSelected();if(!delCount){if(startValue[cursor-1]===' '){cursor--;}$(this).val(startValue.substr(0,cursor-1)+startValue.substring(cursor,startValue.length));}$(this).val(priceFormatted($(this).val()));$(this).setCursorPosition(cursor-(startValue.length-$(this).val().length-delCount));}else if(code==46){var delCount=$(this).delSelected();if(!delCount){if(startValue[cursor]===' '){cursor++;}$(this).val(startValue.substr(0,cursor)+startValue.substring(cursor+1,startValue.length));}if(!delCount)delCount=1;$(this).val(priceFormatted($(this).val()));$(this).setCursorPosition(cursor-(startValue.length-$(this).val().length-delCount));}else{$(this).delSelected();startValue=$(this).val();var key=false;if((code>=48&&code<=57)){key=(code-48);}else if((code>=96&&code<=105)){key=(code-96);}else{$(this).val(priceFormatted($(this).val()));$(this).setCursorPosition(cursor);return false;}var length=startValue.length
var value=startValue.substr(0,cursor)+key+startValue.substring(cursor,startValue.length);$(this).val(priceFormatted(value));$(this).setCursorPosition(cursor+$(this).val().length-startValue.length);}event.preventDefault();});};})(jQuery);